// Logs Database Schema - FleetStack_logs  
// Logging and audit trail tables

generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma-logs"
}

datasource db {
  provider = "postgresql"
  url      = env("LOGS_DATABASE_URL")
}

model GPSLog {
  
  id Int @id @default(autoincrement()) @map("ID")

  deviceId String @map("Device_ID")
  time DateTime @map("Time")

  serverTime DateTime @map("ServerTime")

 
  lat Float @map("Lat")
  lon Float @map("Lon")


  speed Float? @map("Speed")


  course Float? @map("Course")


  sats Int? @map("Sat")


  ignition Boolean? @map("Ignition")


  motion Boolean? @map("Motion")


  distanceM Float? @map("Distance")


  odometer Float? @map("Odometer")

 
  engineHour Float? @map("EngineHour")


  attributes Json @map("Attribute")

  @@map("GPS_Logs")


  @@index([deviceId, time])
  @@index([deviceId, serverTime])
}
